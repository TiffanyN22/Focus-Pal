<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- tutorial: https://youtu.be/8K2ihr3NC40 -->
    <title>Embed Img in HTML</title>
  </head>
  <body>
    <h1>Save Image to Local Stroage</h1>
    <input type="file" id="myFileInput">
    <img id="imgPreview" src="" alt="Preview">

    <script>
      document.querySelector("#myFileInput").addEventListener("change", function () {
        // console.log(this.files[0]);
        console.log("test0");
        const reader = new FileReader(); //convert to data url (info about file to save)
        reader.addEventListener("load", () => {
          console.log("test");
          console.log(reader.result);
          localStorage.setItem("recent-image", reader.result);
        });
        reader.readAsDataURL(this.files[0]); //can use loop for multiple files
      });

      document.addEventListener("DOMContentLoaded", () => {
        const recentImageDataUrl = localStorage.getItem("recent-image");
        if(recentImageDataUrl){ //if have image
          document.querySelector("#imgPreview").setAttribute("src", recentImageDataUrl)
        } 
      });
    </script>
  </body>
</html>